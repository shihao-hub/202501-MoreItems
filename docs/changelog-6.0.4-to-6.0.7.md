# More Items 变更日志

## 版本范围：6.0.4 → 6.0.7
**时间跨度：** 2026-01-25 ~ 2026-02-15（约 3 周）
**Commit 数量：** 77 个
**起始 Commit：** `e895388` (docs: 添加 6.0.4 版本更新日志和项目文档)
**结束 Commit：** `3335a39` (fix(simple-garbage): 修复与 CNM 模组冲突导致的布尔值错误)

---

## 新功能 (feat) - 15 个

| 日期 | Commit | 描述 |
|------|--------|------|
| 02-13 | `e7d05cf` | 施肥机器人自动获取肥料功能 |
| 02-13 | `17fa901` | 支持条件判断的资源路径 |
| 02-13 | `e1e2a90` | 为 mie_ 开头的配方添加中文注释 |
| 02-12 | `8f84e26` | **实现施肥瓦器人** |
| 02-01 | `4000e2c` | 统一汉堡属性，暖胃和强san汉堡每次增加10点 |
| 01-26 | `97a5254` | 简易全球定位自动检测和弃用通告 |
| 01-26 | `12f2187` | 五格装备栏自动检测并禁用 |
| 01-26 | `27a5c32` | 为五格装备栏添加弃用通告 |
| 01-25 | `ddb4f73` | 神秘图腾改名并添加日志 |
| 01-25 | `5736521` | **神秘图腾进阶功能** |

### 重点新功能说明

#### 施肥瓦器人
- 全新自动化施肥设备
- 自动检测周围需要施肥的作物
- 自动从容器中获取肥料
- 支持回家逻辑和距离计算
- 后续重构移除了 fueled 耐久系统，改为无限使用

#### 神秘图腾进阶功能
- 添加翻倍逻辑
- 改名并优化日志输出

#### 弃用通告系统
- 五格装备栏：自动检测并禁用，显示弃用通告
- 简易全球定位：自动检测并显示弃用通告
- 抽取弃用功能通用模块

---

## Bug 修复 (fix) - 36 个

### 施肥机器人修复 (17 个)

| 日期 | Commit | 描述 |
|------|--------|------|
| 02-15 | `21cb949` | 调整物品筛选标签和更新版本名称 |
| 02-13 | `05094c0` | 修复代码语法错误 |
| 02-13 | `357353b` | 修正资源文件 require 路径 |
| 02-13 | `6251799` | 修复施肥动作不执行问题 |
| 02-13 | `9bd436a` | 修复只对移植植物施肥的问题 |
| 02-13 | `58a5250` | 修复距离计算使用正确的 API |
| 02-13 | `4c8006c` | 修复距离计算函数调用 |
| 02-13 | `0c39dc9` | 修复 spawnpoint 初始化逻辑 |
| 02-13 | `db3b66c` | 修复回家逻辑并添加调试日志 |
| 02-13 | `2ee77ae` | 注释掉 OnUpdateFueled 调用 |
| 02-12 | `f8e83ce` | 删除 brain 中的 OnInitializationComplete 方法 |
| 02-12 | `3f54d73` | 使用正确的 knownlocations API |
| 02-12 | `c076bcf` | 修复 knownlocations 和物品贴图配置 |
| 02-12 | `b81f061` | 删除无用的 UnignoreItem 调用 |
| 02-12 | `20e6fda` | 暂时注释掉缺失的 INV_IMAGE Asset |
| 02-12 | `2eee4a6` | 修复 brain 中的 UnignoreItem 调用错误 |
| 02-12 | `1b9c5ed` | 修复 Brain 类定义缺失 |

### 汉堡换人继承修复 (10 个)

| 日期 | Commit | 描述 |
|------|--------|------|
| 02-13 | `0fa4793` | 修复强san和暖胃汉堡字段映射错误 |
| 02-13 | `e2fe350` | 尝试使用 SetCurrent 方法触发 sanity/hunger 事件 |
| 02-13 | `a74fa18` | 使用 DoDelta 触发事件确保 save_fields 更新 |
| 02-13 | `c52a733` | 修复强san和暖胃汉堡换人数据丢失问题 |
| 02-13 | `2955285` | 删除错误的硬编码配置行 |
| 02-13 | `bbbbf91` | 修复强san和暖胃汉堡换人继承功能 |
| 02-12 | `be7c14d` | 修复强san汉堡和暖胃汉堡换人数据丢失 |
| 02-12 | `4ff9ddd` | 修复容器设置问题 |
| 02-12 | `14b6b35` | 修正施肥瓦器人的容器标签检查 |
| 01-26 | `5e00f34` | 修复暖胃汉堡包换人继承功能无效的bug |

### 其他修复 (9 个)

| 日期 | Commit | 描述 |
|------|--------|------|
| 02-15 | `3335a39` | **修复与 CNM 模组冲突导致的布尔值错误** |
| 01-26 | `b8e1c58` | 修复动态方法定义语法错误 |
| 01-25 | `ddaa057` | 修复神秘图腾翻倍逻辑 |
| 01-25 | `a95aca1` | 添加强san素食堡换人继承配置选项 |

---

## 重构 (refactor) - 16 个

### 项目结构重构 (6 轮大重构)

| 日期 | Commit | 描述 |
|------|--------|------|
| 02-13 | `71bd448` | 第四轮大刀阔斧地重构 |
| 02-13 | `fec37e0` | 第三轮大刀阔斧地重构 |
| 02-13 | `e39c830` | 第二轮大刀阔斧地重构 |
| 02-13 | `0f2df0d` | 第一轮大刀阔斧地重构 |
| 02-13 | `6633488` | 清理 scripts/moreitems 目录下的测试和文档文件 |
| 02-13 | `dbaca90` | 重命名 `__init__.lua` 为 `init.lua` |

### 配方资源重构

| 日期 | Commit | 描述 |
|------|--------|------|
| 02-13 | `2fc6450` | 清理旧资源定义并重命名资源文件 |
| 02-13 | `15350c2` | 完善配方资源文件，添加物品名称注释 |
| 02-13 | `f4e76e2` | 提取配方资源到独立文件便于批量修改 |
| 02-13 | `1f84e43` | 移除调试日志，恢复代码简洁性 |

### 施肥机器人重构

| 日期 | Commit | 描述 |
|------|--------|------|
| 02-14 | `34a7e59` | 移除 brain 和 stategraph 中的 fueled/破损逻辑 |
| 02-14 | `9f13139` | **移除 fueled 组件和耐久系统**（改为无限使用） |

### 其他重构

| 日期 | Commit | 描述 |
|------|--------|------|
| 01-26 | `63f6534` | 抽取弃用功能通用模块 |
| 01-26 | `c4f6da2` | 重构三种汉堡组件，合并重复代码 |
| 01-25 | `0b2b24a` | 优化倾家荡产赌博机日志 |
| 01-25 | `2955513` | 优化换人继承日志输出 |

---

## 文档更新 (docs) - 12 个

| 日期 | Commit | 描述 |
|------|--------|------|
| 02-15 | `8b1374a` | 更新 README.md 文档版本信息 |
| 02-15 | `6ba4f9e` | **重新创建 CLAUDE.md 项目开发指南** |
| 02-14 | `23dc47f` | 添加库目录结构说明文档 |
| 02-14 | `aba9186` | 更新 AGENTS.md 测试命令并添加开发指南文档 |
| 02-14 | `d1ec600` | 更新 CHANGELOG.md |
| 02-13 | `82fc344` | 为 rmi_ 开头的配方添加中文注释 |
| 02-13 | `ac92af0` | 为 mone_ 开头配方添加中文注释 |
| 02-13 | `9402647` | 为豪华箱子配方添加中文注释 |
| 02-13 | `83eedc7` | 更新 CHANGELOG.md |
| 02-01 | `2511f8a` | 将 CLAUDE.md 翻译为中文 |
| 02-01 | `5578177` | 更新 CLAUDE.md，添加常量系统和属性提升物品模式说明 |
| 01-25 | `36a4063` | 添加 6.0.5 版本更新日志 |

---

## 杂项 (chore/debug/revert) - 7 个

| 日期 | Commit | 描述 |
|------|--------|------|
| 02-13 | `e973a1c` | 添加配方注册调试日志 |
| 02-13 | `77c3c31` | 删除 modmain/logger.lua 文件 |
| 02-13 | `0e01ed5` | 添加 .qoder 到 .gitignore 排除列表 |
| 02-13 | `e0d3549` | OpenCode + Kimi K2.5 Free + AGENTS.md |
| 02-13 | `7e49967` | 忽略 Windows 特殊文件 nul |
| 02-13 | `c878898` | Revert "fix(fertilizer_bot): 修复施肥动作不执行问题" |
| 02-13 | `6bc6e02` | Revert "fix(hamburgers): 修复强san和暖胃汉堡换人数据丢失问题" |

---

## 统计摘要

| 类型 | 数量 |
|------|------|
| feat (新功能) | 15 |
| fix (修复) | 36 |
| refactor (重构) | 16 |
| docs (文档) | 12 |
| chore/debug/revert | 7 |
| **总计** | **77** |

---

## 重要里程碑

### 1. 施肥瓦器人 (Fertilizer Bot)
- 从零实现完整的自动化施肥设备
- 经历大量 bug 修复和调试
- 最终移除耐久系统，改为无限使用

### 2. 汉堡换人继承
- 修复三种属性汉堡（生命/饥饿/理智）的换人数据丢失问题
- 统一属性提升为每次 10 点

### 3. 弃用通告系统
- 建立完整的弃用功能检测和通告机制
- 支持五格装备栏、简易全球定位等

### 4. 项目结构大重构
- 四轮大刀阔斧的重构
- 清理测试文件、重命名模块
- 提取配方资源到独立文件

### 5. 文档体系完善
- CLAUDE.md 项目开发指南（中英文）
- 库目录结构说明
- DST 模组开发指南
- 配方中文注释

---

## 版本更新

- **6.0.4** - 2026-01-25
- **6.0.5** - 2026-01-25
- **6.0.6** - (中间版本)
- **6.0.7** - 2026-02-15 (当前版本)
